<title>portabl.ink</title><meta charset=utf-8>
<style>@import"http://portabl.ink/e.css";</style>
<h1><a href=http://portabl.ink>portabl.ink</a> â€“ create self-contained portable links</h1>
<div class=h>
 <div>
 <div class=x>
  <span id="$t"></span>
  <button onclick=cl()>ğŸ“¨ copy link</button>
  <button onclick=mo()>â‹¯</button>
  <div id=$o>
  <button onclick=cr()>ğŸ“„ copy plain html</button><br>
  <button onclick=cs()>ğŸ“² get portabl.ink</button>
  </div>
 </div>
 </div>
</div>
<div id=$f></div>
<div id=$e style=min-height:100lvh></div>
<script src=https://cdn.quilljs.com/1.3.7/quill.js></script>
<script src=https://unpkg.com/quill-paste-smart@latest/dist/quill-paste-smart.js></script>
<img src="" onerror='
let n="innerHTML",o="onclick",j="http:/\/portabl.ink/pack.js",g="p,br,span,bold,b,strong,code,italic,i,em,link,a,strike,s,script,underline,u,blockquote,header,h1,h2,h3,h4,h5,h6,indent,list,ul,ol,li,code-block,pre,image,img,video".split`,`,a,t,q=(a=(t=top).Quill)&&new a($e,{formats:g,modules:{clipboard:{allowed:{tags:g,attributes:"href,target,src,alt".split`,`}}}})
if(q)
 (a=q.root).focus()
else{
 (a=$e).setAttribute("contenteditable","")
 a.focus()}
a.oninput=_=>onbeforeunload=_=>1
t.mo=_=>$o.style.display="block"
t.cl=_=>xp(a[n]+`<style>@import"http://portabl.ink/v.css"</style><a x href=http://portabl.ink>via portabl.ink</a>`)
t.cr=_=>xp(a[n])
t.cs=async()=>{
 let p=(await(await fetch(j)).text()).replace(/(\n+\s+)+/g,"\n")
 xp((await (await fetch("/")).text())
  .replace("/\/i",p.slice(20))
  .replace(`(\await import(j)).default`," pack")
  .replace(/\n.+onclick=cs...+$/m,""))}
let xp=async(ht)=>{
 console.log(ht)
 let c,u=await(await import(j)).default(ht)
 if (c=navigator.clipboard) {
  await c.writeText(u)
  let bytes=new TextEncoder().encode(u).length
  $t[n]="copied "+(bytes/1024).toFixed(2)+" KB"
  setTimeout(_=>$t[n]="",4e3)
 }else{
  $t[n]="<input readonly>"
  ;(c=$t.children[0]).value=u
  c.select()
  c.onblur=()=>$t[n]=""}}//i
'>