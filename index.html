<title>portabl.ink</title><meta charset=utf-8><meta name="viewport" content="width=device-width,initial-scale=1">
<style>@import"https://portabl.ink/e.css";</style>
<h1><a href=https://portabl.ink>portabl.ink</a> – create self-contained portable links – <a href=https://portabl.ink/about.html target=_blank>about</a></h1>
<div class=h>
 <div>
 <div class=x>
  <span id="$t"></span>
  <button onclick=cl()>📨 copy link</button>
  <button onclick=mo()>⋯</button>
  <div id=$o>
  <button onclick=cr()>📄 copy plain link</button><br>
  <button onclick=uh() data-ol>🧑‍💻 use plain HTML</button><br>
  <button onclick=cs() data-ol>📲 get portabl.ink</button>
  </div>
 </div>
 </div>
</div>
<div id=$f></div>
<div id=$e></div>
<script src=https://portabl.ink/ext.js async></script>
<script src=https://cdn.quilljs.com/1.3.7/quill.js async></script>
<script src=https://unpkg.com/quill-paste-smart@latest/dist/quill-paste-smart.js async></script>
<img src onerror='
let n="innerHTML",e="textContent",j="https:/\/portabl.ink/pack.js",h="h1,h2,h3",g=`p,br,span,bold,b,strong,code,italic,i,em,link,a,strike,s,script,underline,u,blockquote,header,${h},h4,h5,h6,indent,list,ul,ol,li,code-block,pre,image,img,video`.split`,`,a,t,q=(a=(t=top).Quill)&&new a($e,{formats:g,modules:{clipboard:{allowed:{tags:g,attributes:"href,target,src,alt".split`,`}}}}),z=s=>new TextEncoder().encode(s).length,m=location.search.includes("?html")
if(m){
 $o.remove()
 $f[n]="Input HTML"
 $e[n]="<textarea class=ql-editor>"
 a=$e.firstChild
}else if(q)
 (a=q.root).focus()
else{
 (a=$e).setAttribute("contenteditable","")
 a.focus()}
a.oninput=_=>onbeforeunload=_=>1
t.mo=_=>$o.style.display="block"
t.cr=_=>xp(m?a.value:a[n])
t.cl=m?t.cr:_=>xp(`<title>${a.querySelector(h)?.[e]??a[e].split` `.slice(0,3).join` `}</title><meta charset=utf-8>${a[n]}<style>@import"https://portabl.ink/v.css"</style><a x href=https://portabl.ink>via portabl.ink</a>`)
t.uh=_=>location="/?html"
t.cs=async()=>{
 let p=(await(await fetch(j)).text()).replace(/(\n+\s+)+/g,"\n")
 xp((await (await fetch("/")).text())
  .replace("/\/i",p.slice(20))
  .replace(`(\await import(j)).default`," pack")
  .replace(/\n.+data-ol...+$/m,""))}
let xp=async(ht)=>{
 if(!ht)return
 let c,u=await(await import(j)).default(ht,t.ext)
 if (c=navigator.clipboard) {
  await c.writeText(u)
  let orig=z(ht),comp=z(u)
  $t[n]=`copied ${(comp/1024).toFixed(2)} KB (${100*(1-comp/orig)|0}% compressed)`
  setTimeout(_=>$t[n]="",4e3)
 }else{
  $t[n]="<input readonly>"
  ;(c=$t.children[0]).value=u
  c.select()
  c.onblur=()=>$t[n]=""}}//i
'>